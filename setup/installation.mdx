---
title: Installation
description: "Step-by-step guide to install and set up Entropi API on your local machine."
---

## Prerequisites

Before installing Entropi API, ensure you have:

| Requirement | Version |
|-------------|---------|
| Python | 3.10+ |
| PostgreSQL | 14+ |
| API Keys | Groq and Gemini API keys |
| Git | Latest version |

## Quick Start

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/yourusername/entropi-api.git
   cd entropi-api/core-palme
   ```

2. **Create Virtual Environment**:
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. **Install Dependencies**:
   ```bash
   pip install -r requirements.txt
   ```

4. **Set Up Database**:
   Create a PostgreSQL database:
   ```bash
   createdb palme
   ```
   
   Or using psql:
   ```sql
   CREATE DATABASE palme;
   ```

5. **Configure Environment**:
   Create a `.env` file in the `core-palme` directory:
   ```bash
   cp .env.example .env
   # Edit .env with your configuration
   ```
   
   See [Configuration Guide](/setup/configuration) for details.

6. **Run Migrations**:
   ```bash
   alembic upgrade head
   ```

7. **Start the Server**:
   ```bash
   uvicorn app.main:app --reload
   ```
   
   Or use the provided script:
   ```bash
   ./run.sh
   ```

## Detailed Installation

### 1. Python Environment

<CodeGroup>
```bash macOS/Linux
# Check Python version
python3 --version  # Should be 3.10+

# Create virtual environment
python3 -m venv venv

# Activate virtual environment
source venv/bin/activate
```

```bash Windows
# Check Python version
python --version  # Should be 3.10+

# Create virtual environment
python -m venv venv

# Activate virtual environment
venv\Scripts\activate
```
</CodeGroup>

### 2. Install Dependencies

```bash
pip install -r requirements.txt
```

**Key Dependencies**:
- `fastapi` - Web framework
- `uvicorn` - ASGI server
- `sqlalchemy` - ORM
- `psycopg2-binary` - PostgreSQL driver
- `alembic` - Database migrations
- `groq` - Groq API client
- `google-generativeai` - Gemini API client
- `pillow` & `pillow-heif` - Image processing

### 3. PostgreSQL Setup

| Platform | Instructions |
|----------|--------------|
| macOS (Homebrew) | `brew install postgresql@14`<br>`brew services start postgresql@14`<br>`createdb palme` |
| Linux (Ubuntu/Debian) | `sudo apt update`<br>`sudo apt install postgresql postgresql-contrib`<br>`sudo -u postgres createdb palme` |
| Windows | Download from [PostgreSQL Downloads](https://www.postgresql.org/download/windows/)<br>Create database using pgAdmin or psql |
| Docker | `docker run --name postgres-palme -e POSTGRES_PASSWORD=yourpassword -e POSTGRES_DB=palme -p 5432:5432 -d postgres:14` |

### 4. Database Migrations

Run Alembic migrations to create tables:

```bash
# Apply all migrations
alembic upgrade head

# Check current revision
alembic current

# View migration history
alembic history
```

### 5. API Keys Setup

You'll need API keys for:

| Service | Purpose | Get From |
|---------|---------|----------|
| Groq API | OCR service | [Groq Console](https://console.groq.com) |
| Gemini API | Crop and search services | [Google AI Studio](https://makersuite.google.com/app/apikey) |

Add them to your `.env` file (see [Configuration](/setup/configuration)).

## Verification

Test that everything is working:

1. **Check Server**: Visit `http://localhost:8000` - should return `{"status": "OK"}`

2. **Check API Docs**: Visit `http://localhost:8000/docs` - Swagger UI should load

3. **Test Database**:
   ```bash
   python -c "
   from app.database import SessionLocal
   from sqlalchemy import text
   db = SessionLocal()
   result = db.execute(text('SELECT 1'))
   print('Database connection OK')
   db.close()
   "
   ```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Import Errors | Make sure your virtual environment is activated and dependencies are installed |
| Database Connection Failed | Check PostgreSQL is running, database exists, `DATABASE_URL` in `.env` is correct, user has permissions |
| HEIC Conversion Fails | Install `pillow-heif`: `pip install pillow-heif`. On macOS: `brew install libheif` |
| API Key Errors | Verify your API keys are correct in `.env`: `OCR_API_KEY`, `OBJDETECT_API_KEY`, `GEMINI_API_KEY` |

## Development Setup

For development, use the reload flag:

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

This enables:
- Auto-reload on code changes
- Access from other devices on your network
- Debug mode

## Production Setup

For production, use a proper ASGI server like Gunicorn with Uvicorn workers:

```bash
gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker
```

## Related Resources

- [Configuration](/setup/configuration) - Configure environment variables
- [API Endpoints](/api-reference/analyze) - Test the endpoints
- [Architecture](/architecture) - Explore the architecture
